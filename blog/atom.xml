<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="atom.xsl"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://gamesonweb.github.io/dreamland-ZiaLai/blog</id>
    <title>Little Sandman Blog</title>
    <updated>2025-05-27T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://gamesonweb.github.io/dreamland-ZiaLai/blog"/>
    <subtitle>Little Sandman Blog</subtitle>
    <icon>https://gamesonweb.github.io/dreamland-ZiaLai/img/lsdmn.png</icon>
    <entry>
        <title type="html"><![CDATA[üéª Musique multipiste]]></title>
        <id>https://gamesonweb.github.io/dreamland-ZiaLai/blog/music</id>
        <link href="https://gamesonweb.github.io/dreamland-ZiaLai/blog/music"/>
        <updated>2025-05-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Bonjour √† tous !]]></summary>
        <content type="html"><![CDATA[<p>Bonjour √† tous !</p>
<p>Dans cet article, nous expliquerons comment nous avons r√©alis√© la musique du premier niveau du jeu,
ainsi que les probl√®mes rencontr√©s au cours de cette √©tape.</p>
<p>La particularit√© de cette musique est qu'elle commence avec peu d'instruments (le piano et le clavecin),
et d'autres s'ajoutent au fur et √† mesure qu'on progresse afin de cr√©er un effet de tension.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-composition-avec-musescore">üé∂ Composition avec MuseScore<a href="https://gamesonweb.github.io/dreamland-ZiaLai/blog/music#-composition-avec-musescore" class="hash-link" aria-label="Direct link to üé∂ Composition avec MuseScore" title="Direct link to üé∂ Composition avec MuseScore">‚Äã</a></h2>
<p>La musique a √©t√© r√©alis√©e √† l'aide de MuseScore, un logiciel gratuit permettant de composer des morceaux en utilisant la
notation musicale standard, sur une partition.</p>
<p><img decoding="async" loading="lazy" alt="musescore image" src="https://gamesonweb.github.io/dreamland-ZiaLai/assets/images/musescore-cbead2cedf7cd4cb938be4414342a2b7.png" width="1919" height="1018" class="img_ev3q"></p>
<p>L'utilisation de ce logiciel est tr√®s pratique, car elle offre de nombreuses options d'exports,
et notamment celle qui nous int√©resse : exporter les pistes s√©par√©ment.</p>
<p>Cependant, un autre probl√®me nous attend...</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-probl√®me-de-loop">‚ôæÔ∏è Probl√®me de loop<a href="https://gamesonweb.github.io/dreamland-ZiaLai/blog/music#%EF%B8%8F-probl%C3%A8me-de-loop" class="hash-link" aria-label="Direct link to ‚ôæÔ∏è Probl√®me de loop" title="Direct link to ‚ôæÔ∏è Probl√®me de loop">‚Äã</a></h2>
<p>En g√©n√©ral, dans les jeux-vid√©os, la musique doit pouvoir tourner en boucle sans transition brusque,
et sans blanc √† la fin. Et c'est ce qu'on souhaite pour notre musique.</p>
<p>Cependant, une particularit√© de MuseScore est que lorsqu'on exporte une musique, un blanc est rajout√© √† la fin pour permettre
aux derni√®res notes de r√©sonner jusqu'√† leur √©vanouissement complet, et il n'existe aucune option pour emp√™cher cela.</p>
<p>Apr√®s l'export, on obtient sept fichiers audio au format ogg, un pour chaque instrument, mais comme ils ont chacun
un blanc √† la fin, la boucle musicale ne peut malheureusement pas poursuivre de fa√ßon fluide.</p>
<p>Il faut trouver un moyen de garantir une boucle parfaite !</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-raccourcissement-avec-un-script-python">üíø Raccourcissement avec un script python<a href="https://gamesonweb.github.io/dreamland-ZiaLai/blog/music#-raccourcissement-avec-un-script-python" class="hash-link" aria-label="Direct link to üíø Raccourcissement avec un script python" title="Direct link to üíø Raccourcissement avec un script python">‚Äã</a></h2>
<p>Notre objectif est de couper la fin de chaque piste, en supprimant tout le temps √©coul√© apr√®s la mesure finale.</p>
<p>On peut faire cela en utilisant n'importe quel √©diteur audio, comme Audacity.</p>
<p>Toutefois, le nombre de pistes √©tant relativement
√©lev√©, cela peut s'av√©rer fastidieux. Et de plus, un d√©coupage manuel peut entrainer des impr√©cisions, ce qui entrainerait
une terrible d√©synchronisation des pistes apr√®s quelques tours de boucle.</p>
<p>Il devient donc particuli√®rement int√©ressant d'automatiser ce processus.</p>
<p>Pour ce faire, nous avons utilis√© un script python utilisant le module de traitement audio <em>pydub</em>.
Cela a permis d'automatiser efficacement le d√©coupage des pistes, en garantissant une pr√©cision √† la milliseconde pr√®s !</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-chargement-des-sons-dans-babylonjs">üîä Chargement des sons dans Babylon.js<a href="https://gamesonweb.github.io/dreamland-ZiaLai/blog/music#-chargement-des-sons-dans-babylonjs" class="hash-link" aria-label="Direct link to üîä Chargement des sons dans Babylon.js" title="Direct link to üîä Chargement des sons dans Babylon.js">‚Äã</a></h2>
<p>Il ne reste plus qu'√† importer les sons dans Babylon. Mais prudence, il reste un dernier pi√®ge √† √©viter.</p>
<p>Si on charge successivement toutes les pistes, puis, qu'on essaie imm√©diatement de les jouer, on peut obtenir le probl√®me suivant :
aucun son ne joue, car le chargement des sons n'est pas encore termin√© et est toujours en train de continuer de mani√®re asynchrone.</p>
<p>Pour √©viter cela, on utilise le param√®tre optionnel <em>readyToPlayCallback</em> qui appellera une fonction √† chaque fois qu'un son finit de charger.
Cette derni√®re fonction a simplement pour effet d'incr√©menter un compteur et de d√©marrer simultan√©ment tous les sons, si le quota de sons √† charger est atteint.</p>
<p>Ce proc√©d√© est d√©montr√© dans ce <a href="https://playground.babylonjs.com/#PCY1J#6" target="_blank" rel="noopener noreferrer">playground</a> de la doc de Babylon.js.</p>
<p>Et voil√† ! Une fois que tous les sons sont d√©marr√©s en m√™me temps, on n'a plus qu'√† couper le son des pistes qui ne doivent pas encore jouer,
et √† les r√©activer petit √† petit d√®s que le joueur atteint un objectif dans le niveau.</p>]]></content>
        <author>
            <name>Bj√∂rn LAI</name>
        </author>
        <category label="musique" term="musique"/>
    </entry>
</feed>